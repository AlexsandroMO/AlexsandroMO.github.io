<!-- 
https://eloquentjavascript.net/17_canvas.html 
https://developer.mozilla.org/pt-BR/docs/Web/Guide/HTML/Canvas_tutorial/Drawing_shapes
https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Basic_animations
//https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Advanced_animations

-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document Animation Cicle</title>
</head>
<style></style>

<body onload="draw()">

    <h3></h3>
    <canvas width="600" height="300" id="canvas"></canvas>

</body>

<script>

    let text = document.querySelector("h3")
    let animation_cicle = document.querySelector("canvas").getContext("2d");
    let animation;

    let cicle = {
        x: 100, // Etapa 1
        speed_x: 3, //Etapa 3
        radius: 50, //Etapa 2
        color: '#1d1413',

        draw: function() {
            animation_cicle.beginPath();
            animation_cicle.arc(this.x, 100, this.radius, 0, 10);
            animation_cicle.fillStyle = this.color;
            animation_cicle.closePath();
            animation_cicle.fill();
        }
    };

    function draw() { //Etapa 2
        
        animation_cicle.clearRect(0,0, canvas.width, canvas.height);
        cicle.draw();
        cicle.x += cicle.speed_x;
        animation = window.requestAnimationFrame(draw);

        console.log(cicle.x)

        if(cicle.x > 700){
            console.log('Foi!')
            text.innerHTML = 'FOI!!!'
        }
    }

    cicle.draw();

</script>

</html>